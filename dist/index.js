"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("react/jsx-runtime"),o=require("react"),t=require("@mui/material"),r=function(){return r=Object.assign||function(e){for(var n,o=1,t=arguments.length;o<t;o++)for(var r in n=arguments[o])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},r.apply(this,arguments)},i={};function c(e,n){return i[e]?i[e].push(n):i[e]=[n],n}c("projectile-hit",(function(e){})),c("zone-enter",(function(e){}));var l=!1,a=function(n){if(!e||e.readyState!=WebSocket.CLOSED&&e.readyState!=WebSocket.CLOSING||(e=void 0,l=!1),e)return n(e);if(l)console.log("No websocket, but there should be one soon! Waiting..."),setTimeout((function(){a(n)}),3e3);else{l=!0;var o=new WebSocket("ws://localhost:8082/test");o.onmessage=function(e){console.log("This is a Racket Bridge Event: ",e);var n=JSON.parse(e.data),o=n.eventType,t=i[o];console.log(t),t&&t.map((function(e){e(n)})),"number"==typeof o&&delete i[o]};var t=setInterval((function(){if(console.log("Trying to connect"),1==o.readyState)return console.log("Sending"),clearInterval(t),e=o,window.codeSpellsWebSocket=o,n(o)}),1e3)}};function s(e){return n.jsx(t.Button,r({color:e.color,variant:e.variant,onClick:function(){e.onClick&&e.onClick(),function(e,n,o){console.log("Sending");var t=Math.random();n&&(i[t]=[n]),a((function(n){n.send(JSON.stringify({code:e,eventType:t,options:o||{}}))}))}(e.code,(function(n){e.onReturn&&e.onReturn(n)}),{programName:e.programName})}},{children:e.children||"Cast Spell"}),void 0)}exports.CloseSpellbook=function(e){return n.jsx(s,r({color:"secondary",variant:"contained",onReturn:function(e){console.log("UI closed",e)},code:"(close-ui)"},{children:"Enter World"}),void 0)},exports.SimpleComponent=function(){var e=o.useState("Click me"),t=e[0],i=e[1];return n.jsx("p",r({onClick:function(e){i("Hello")}},{children:t}),void 0)};
//# sourceMappingURL=index.js.map
